<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro - Portal Educativo</title>
  <link rel="stylesheet" href="../css/registro.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>

<header>
  <img src="../img/logo.png" alt="Logo Colegio" class="logo" />
  <h1>Portal Educativo</h1>
</header>

<main class="register-container">
  <form class="register-box" id="registroForm">
    <h2>Crear una Cuenta</h2>

    <label for="nombre">Nombre Completo</label>
    <input type="text" id="nombre" placeholder="Ej: Juan Pérez" required />

    <label for="rut">RUT</label>
    <input type="text" id="rut" placeholder="Ej: 12345678-9" required />

    <!-- NUEVO BLOQUE RF5 -->
    <label for="edad">Edad</label>
    <input type="number" id="edad" placeholder="Ej: 12" min="5" max="18" required />

    <label for="cursoSugerido">Curso Sugerido</label>
    <select id="cursoSugerido" disabled style="background-color: #f0f0f0; cursor: not-allowed;">
      <option>Será asignado automáticamente</option>
    </select>
    <!-- FIN BLOQUE RF5 -->

    <label for="email">Correo Electrónico</label>
    <input type="email" id="email" placeholder="ejemplo@correo.com" required />

    <label for="rol">Rol en la institución</label>
    <select id="rol" required>
      <option value="" disabled selected>Seleccione su rol...</option>
      <option value="alumno">Alumno</option>
      <option value="profesor">Profesor</option>
      <option value="apoderado">Apoderado</option>
      <option value="administrativo">Administrativo</option>
    </select>

    <label for="clave">Contraseña</label>
    <input type="password" id="clave" placeholder="********" required />

    <label for="confirmar-clave">Confirmar Contraseña</label>
    <input type="password" id="confirmar-clave" placeholder="********" required />

    <button type="submit">
      <i class="fa-solid fa-user-plus"></i> Registrarse
    </button>

    <p class="login-link">
      ¿Ya tienes una cuenta? <a href="inicio_sesion.html">Inicia Sesión</a>
    </p>
  </form>
</main>

<script src="../js/sesion.js"></script>
<script src="../js/registro.js"></script>
<script>
// Si ya hay sesión activa, precargar nombre y rut
const usuario = getUsuarioActivo();
if (usuario) {
  document.getElementById("nombre").value = usuario.estudiante || "";
  document.getElementById("rut").value = usuario.rut || "";
}
</script>

</body>
</html>
